#include <iostream>
#include <cmath>
#define PI 3.1415926535
using namespace std;

double first(double a, double b);
double second(double x, double eps);

void main() {
	setlocale(LC_ALL, "RUS");


	int end = 0;
	double a, b, x, r;
	double eps = 0.001;

	while (end != 5) {
		cout << "1. Первое задание" << endl;
		cout << "2. Второе задание" << endl;
		cout << "3. Третье задание" << endl;
		cout << "4. Четвертое задание" << endl;
		cout << "5. Выход" << endl << endl;

		cout << "Введите номер задания: ";
		cin >> end;

		switch (end) {

		case 1: {
			system("cls");
			cout << "Введите число а: ";
			cin >> a;
			cout << "Введите число b: ";
			cin >> b;
			double r = first(a, b);
			cout << "Результат данного выражения равен " << r << endl << endl;
			break;
		}
		case 2:
			system("cls");
			cout << "Введите х: ";
			cin >> x;
			r = second(x, eps);
			cout << "Ответ для заданного х равен " << r << endl << endl;
			break;

		case 3:
			system("cls");

			break;

		case 4:
			system("cls");
			break;

		case 5:
			break;
		}
	}

}

double first(double a, double b) {
	double res1 = sin(pow(a, 2)) + pow(b, 3);
	double res2 = 1 + b / (a + cos(PI * pow(b, 2)));
	double res3 = atan(res1 / res2);
	return res3;
}

double second(double x, double eps) {
	int n = 1;
	
	double prev = pow(-1, n - 1) * pow(x, 2 * n - 1) / (2 * n - 1);
	n++;
	double next = pow(-1, n - 1) * pow(x, 2 * n - 1) / (2 * n - 1);
	double sum = 0;

	while (fabs(next - prev) > eps) {
		sum = sum + prev + next;
		prev = next;
		n++;
		next = pow(-1, n - 1) * pow(x, 2 * n - 1) / (2 * n - 1);
	}

	return sum;
}
